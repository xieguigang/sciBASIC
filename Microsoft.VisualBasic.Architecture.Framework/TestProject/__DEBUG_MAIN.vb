Imports Microsoft.VisualBasic.Linq
Imports Microsoft.VisualBasic.MemoryDump
Imports Microsoft.VisualBasic.Net
Imports Microsoft.VisualBasic
Imports Microsoft.VisualBasic.Scripting
Imports System.Drawing
Imports Microsoft.VisualBasic.Imaging
Imports Microsoft.VisualBasic.Terminal
Imports Microsoft.VisualBasic.ComponentModel.Settings.Inf
Imports Microsoft.VisualBasic.ComponentModel.DataSourceModel

<ClassName("df-ini")>
Public Class ssfsfs
    <DataFrameColumn("123")> Public Property dddd As String
    <DataFrameColumn("1ff23")> Public Property xdddd As Integer
    <DataFrameColumn("9x-123")> Public Property dssssddd As Double
End Class

<IniMapIO("~/test.ini")>
Public Class dddddFile
    Public Property a As ssfsfs

End Class

Module __DEBUG_MAIN

    Sub Main()

        Call New ssfsfs With {.dddd = Now.ToString, .dssssddd = RandomDouble(), .xdddd = 345}.WriteClass("~/test.ini")

        Dim nnndasdasd As dddddFile = IOProvider.LoadProfile(Of dddddFile)

        Dim n As New ProgressBar("Console ProgressBar Testing.")
        Dim i As Integer = 0

        Do While True
            n.Step()
            n.SetProgress(i.MoveNext, "Current Processing: " & SecurityString.GetMd5Hash(RandomDouble))
            Threading.Thread.Sleep(1000)
        Loop

        Dim bitmap As Image = Image.FromFile("F:\VisualBasic_AppFramework\Microsoft.VisualBasic.Architecture.Framework\Extensions\Image\f13e6388b975d9434ad9e1a41272d242_1_orig.jpg")
        bitmap = bitmap.GetBinaryBitmap
        Call bitmap.Save("F:\VisualBasic_AppFramework\Microsoft.VisualBasic.Architecture.Framework\Extensions\Image\lena.binary.jpg")

        Dim shell As New ExternalCall("C:\Perl64\bin\perl.exe")

        Dim val = shell.Shell("F:\VisualBasic_AppFramework\Microsoft.VisualBasic.Architecture.Framework\Scripting\test.pl")


        Dim list = Microsoft.VisualBasic.Parallel.ParallelLoading.Load(Of ParallelLoadingTest)({"a"})



        Dim nnnnnnnnnnnnnn = 50.Sequence

        Dim ddddss = nnnnnnnnnnnnnn.Split(3)






        Dim dn = New DomainName("http://anotherdomain.org/home")
        dn = New DomainName("www.subdomain.anothersubdomain.maindomain.com/something/")
        dn = New DomainName("http://sub.domain.com/somefolder/index.html")

        Dim task = New CommandLine.IORedirectFile("E:\GCModeller\GCModeller\.cache\SHOAL.EXE\TmoD\meme.exe", "E:\sigma\sigma\150.fasta -dna -evt 10", {New KeyValuePair(Of String, String)("MEME_DIRECTORY", "E:\GCModeller\GCModeller\.cache\SHOAL.EXE\TmoD")})
        Call task.Run()

        Call System.Console.WriteLine(task.StandardOutput)

        Try
            '   Call New TcpSynchronizationServicesSocket(Function(s As String, ad As Net.IPEndPoint) As String
            ' MsgBox(ad.ToString & "  ----> " & s)
            '  Return Len(s)
            '    End Function, 1234).Run()
        Catch ex As Exception

            '   Call New Threading.Thread(Sub() MsgBox(ex.ToString & "  =====>  " & AsynInvoke.LocalClient(1234).SendMessage(ex.ToString))).Start()
            '      Call New Threading.Thread(Sub() MsgBox("2nd    =========>     " & Microsoft.VisualBasic.WrapperClassTools.Net.AsynchronousClient.LocalClient(1234).SendMessage("sdjkfghdskjgvbjkfdzbgvkdf"))).Start()

        End Try


        System.Console.ReadLine()


        'Dim reply As String = New DotNET_Wrapper.Tools.TCPSocket.AsynchronousClient("120.26.42.138", 80).SendMessage("1234567890", 3000)

        'If Not String.Equals(reply, "OK") Then

        '    Call New DotNET_Wrapper.Tools.TCPSocket.AsynchronousSocketListener(Function(str As String, remote As Net.IPEndPoint) As String
        '                                                                           If String.Equals(str, "1234567890") Then Return "OK"
        '                                                                           remote.Port = 80

        '                                                                           Call (Sub()
        '                                                                                     Call New ConsoleDevice.Utility.ConsoleProcessBusyIndicator().Start()
        '                                                                                     Call Threading.Thread.Sleep(10 * 1000)
        '                                                                                     Call System.Console.WriteLine("Start to send message.... to  " & remote.ToString)
        '                                                                                     Call System.Console.WriteLine(New DotNET_Wrapper.Tools.TCPSocket.AsynchronousClient(remote).SendMessage("HTTP/1.1 200 OK (CRLF)"))
        '                                                                                     Call System.Console.WriteLine(New DotNET_Wrapper.Tools.TCPSocket.AsynchronousClient(remote).SendMessage("POST fdsfsdfsd"))
        '                                                                                 End Sub).BeginInvoke(Nothing, Nothing)

        '                                                                           Call System.Console.WriteLine(">>>>>>   " & remote.ToString)

        '                                                                           Return remote.ToString
        '                                                                       End Function, 80).Run()
        'Else

        '    reply = New DotNET_Wrapper.Tools.TCPSocket.AsynchronousClient("120.26.42.138", 80).SendMessage("POST 1 90", 3000)
        '    Call System.Console.WriteLine(reply)

        '    Call New DotNET_Wrapper.Tools.TCPSocket.AsynchronousSocketListener(Function(str As String, remote As Net.IPEndPoint) As String
        '                                                                           Call System.Console.WriteLine(str)
        '                                                                           Call System.Console.WriteLine(remote.ToString)

        '                                                                           Return "desfgdsfgsdklgfjsldkfds"
        '                                                                       End Function, 80).Run()
        '    MsgBox("ok")
        'End If










        Dim del = Sub(s As String, g As Integer) Call System.Console.WriteLine(s)
        Dim ttt As System.Type = del.GetType

        Dim invoke = (From item In ttt.GetMethods Where String.Equals(item.Name, "Invoke") Select item).ToArray.FirstOrDefault

        If invoke Is Nothing Then
            '目标对象不是一个Delegate函数指针
        Else
            Dim returnType = invoke.ReturnType       '生成函数签名
        End If


        Dim ss As String = IO.File.ReadAllText("0.823528468608856_blast_out_parse_error")

        ss = ss.Replace(NIL, " ")

        Dim Console As InteractiveDevice = New InteractiveDevice With {.PromptText = "#"}

        Do While True
            Call Console.PrintPrompted()
            Dim s As String = Console.ReadLine
            Call Console.WriteLine("   ------> ""{0}""", s)
        Loop
    End Sub

    Public Class Test
        <DumpNode> Private ArrayData As String() = New String() {"23234", "!!!!!!!!", "aaaaaaaaaaaa", "*&$^$%^#$%@#$%$#@$@"}
        <DumpNode> Private dded As KeyValuePair(Of Integer, Integer) = New KeyValuePair(Of Integer, Integer)(41, 23)
        <DumpNode> Private ddeddd As KeyValuePair(Of Integer, Integer)() = New KeyValuePair(Of Integer, Integer)() {New KeyValuePair(Of Integer, Integer)(-41, -7723)}
        <DumpNode> Public Property nnn As Integer = 3456
        <DumpNode> Protected Friend fieldsssss As Double = 342342.23443
        <DumpNode> Dim aaaa As Integer()() = New Integer()() {New Integer() {1, 2, 3, 4}, New Integer() {5, 4, 3, 3333}}
        <DumpNode> Dim sdfsdfsd As dddd() = New dddd() {New dddd, New dddd}
        <DumpNode> Public Property axfsdfsdfsd As Double() = New Double() {21343332, 365.9, 21312.333}
        <DumpNode> Public Property sdfsdfsdfsdfs As dddd = New dddd
        <DumpNode> Public Property listExample As List(Of Double) = New List(Of Double) From {1, 2, 3, 4, 5.0R}
        <DumpNode> Public Property asdsadasdada As Dictionary(Of String, String) = New Dictionary(Of String, String) From {{"24234,", -36}, {3344.24323, "xsfsfsfsdf"}}
        <DumpNode> Public Property zzzz As qqq() = New qqq() {qqq.c, qqq.c, qqq.c}
    End Class

    Public Class dddd
        <DumpNode> Dim sdfsd As String = "4353453453werwfsdfsdfsdfds"
        <DumpNode> Private ArEEEEEEEEEEEEEEEEEEE As String() = New String() {"23234", "!!!!!!!!", "aaaaaaaaaaaa", "*&$^$%^#$%@#$%$#@$@"}
        <DumpNode> Public Property dsdfsd As String = Now.ToString
        <DumpNode> Public Property axfsdfsdfsd As Double() = New Double() {21342, 365.9, 21312.333}
        <DumpNode> Dim sfsdddddddddd As List(Of sdfsd(Of Double, Double)) = New List(Of sdfsd(Of Double, Double)) From {New sdfsd(Of Double, Double) With {.dsadas = 3534, .safsdfsdf = 45555},
                                                                                                                        New sdfsd(Of Double, Double) With {.dsadas = 3444534, .safsdfsdf = 45555},
                                                                                                                        New sdfsd(Of Double, Double) With {.dsadas = -83534, .safsdfsdf = -145555}}
    End Class

    Public Class qqq : Inherits sdfsd(Of Integer, String)
        <DumpNode> Dim ddddddd As Integer = -10

        Public Shared Function c() As qqq
            Return New qqq With {.dsadas = 4234, .safsdfsdf = "sajksfhskjfs"}
        End Function
    End Class

    Public Class sdfsd(Of T1, T3)
        <DumpNode> Public Property dsadas As T1
        <DumpNode> Public Property safsdfsdf As T3
        <DumpNode> Protected ffff As String = Now.ToString
    End Class
End Module
